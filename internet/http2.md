# HTTP2 详解

## Why use it？

### HTTP/1,1 的问题：

- TCP 连接数限制

对于同一个域名，浏览器最多只能同时创建 6-8 个 TCP 连接（不同浏览器会有所不同）。为了解决数量限制，出现了 `域名分片` 的技术，就是资源分域，将资源放在不同域名下（比如二级子域名下），这样就可以针对不同域名创建连接请求，用一种巧取的方式突破限制，但是滥用此技术也会造成很多问题，比如每个 TCP 连接需要经过 DNS 查询、三步握手等，还会额外占用 cpu 和内存，对于服务器来说也容易造成网络拥挤、交通堵塞等。对于移动端来说更明显，可参考 `http://dev.mobify.com/blog/domain-sharding-bad-news-mobile-performance/` 。

- 线头阻塞（Head Of Line Blocking）问题

每个 TCP 连接同时只能处理一个请求-相应，浏览器按 FIFO（先进先出） 原则